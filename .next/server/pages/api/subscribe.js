"use strict";(()=>{var e={};e.id=761,e.ids=[761],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},3730:(e,r,s)=>{s.r(r),s.d(r,{config:()=>d,default:()=>u,routeModule:()=>c});var t={};s.r(t),s.d(t,{default:()=>n});var a=s(1802),i=s(7153),o=s(6249);let subscribe=async(e,r)=>{let{email:s}=e.body;if("POST"!==e.method)return r.status(405).send({error:"Request method is not allowed."});if(!s)return r.status(400).json({error:"Email is required."});try{let e=process.env.CONVERTKIT_FORM_ID,t=process.env.CONVERTKIT_API_KEY,a=process.env.CONVERTKIT_API_URL,i=await fetch(`${a}forms/${e}/subscribe`,{body:JSON.stringify({email:s,api_key:t}),headers:{"Content-Type":"application/json"},method:"POST"});if(i.status>=400)return r.status(400).json({error:"There was an error subscribing to the list."});return r.status(201).json({error:""})}catch(e){return r.status(500).json({error:e.message||e.toString()})}},n=subscribe,u=(0,o.l)(t,"default"),d=(0,o.l)(t,"config"),c=new a.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/subscribe",pathname:"/api/subscribe",bundlePath:"",filename:""},userland:t})}};var r=require("../../webpack-api-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),s=r.X(0,[222],()=>__webpack_exec__(3730));module.exports=s})();